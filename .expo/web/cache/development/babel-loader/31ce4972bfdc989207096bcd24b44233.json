{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Toast = exports.ToastRef = exports.useToast = exports.ToastProvider = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends4 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _overlays = require(\"@react-native-aria/overlays\");\n\nvar _Transitions = require(\"../Transitions\");\n\nvar _VStack = _interopRequireDefault(require(\"../../primitives/Stack/VStack\"));\n\nvar _Alert = require(\"../../composites/Alert\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _IconButton = _interopRequireDefault(require(\"../IconButton\"));\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _Icons = require(\"../../primitives/Icon/Icons\");\n\nvar _Text = _interopRequireDefault(require(\"../../primitives/Text\"));\n\nvar _HStack = _interopRequireDefault(require(\"../../primitives/Stack/HStack\"));\n\nvar _hooks2 = require(\"../../../core/color-mode/hooks\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Toast/Toast.tsx\";\n\nvar INSET = 50;\nvar POSITIONS = {\n  'top': {\n    top: INSET,\n    left: 0,\n    right: 0\n  },\n  'top-right': {\n    top: INSET,\n    right: 0\n  },\n  'top-left': {\n    top: INSET,\n    left: 0\n  },\n  'bottom': {\n    bottom: INSET,\n    left: 0,\n    right: 0\n  },\n  'bottom-left': {\n    bottom: INSET,\n    left: 0\n  },\n  'bottom-right': {\n    bottom: INSET,\n    right: 0\n  }\n};\nvar initialAnimationOffset = 24;\nvar transitionConfig = {\n  'bottom': initialAnimationOffset,\n  'top': -initialAnimationOffset,\n  'top-right': -initialAnimationOffset,\n  'top-left': -initialAnimationOffset,\n  'bottom-left': initialAnimationOffset,\n  'bottom-right': initialAnimationOffset\n};\nvar ToastContext = (0, _react.createContext)({\n  toastInfo: {},\n  setToastInfo: function setToastInfo() {},\n  setToast: function setToast() {},\n  removeToast: function removeToast() {},\n  hideAll: function hideAll() {},\n  isActive: function isActive() {\n    return false;\n  },\n  visibleToasts: {},\n  setVisibleToasts: function setVisibleToasts() {},\n  hideToast: function hideToast() {}\n});\n\nvar CustomToast = function CustomToast() {\n  var _React$useContext = _react.default.useContext(ToastContext),\n      toastInfo = _React$useContext.toastInfo,\n      visibleToasts = _React$useContext.visibleToasts,\n      removeToast = _React$useContext.removeToast;\n\n  var getPositions = function getPositions() {\n    return Object.keys(toastInfo);\n  };\n\n  return getPositions().length > 0 ? _react.default.createElement(_overlays.OverlayContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, getPositions().map(function (position) {\n    if (Object.keys(POSITIONS).includes(position)) return _react.default.createElement(_VStack.default, (0, _extends4.default)({\n      margin: \"auto\",\n      key: position\n    }, POSITIONS[position], {\n      position: \"absolute\",\n      space: 2,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }), toastInfo[position].map(function (toast) {\n      return _react.default.createElement(_Transitions.PresenceTransition, {\n        key: toast.id,\n        visible: visibleToasts[toast.id],\n        onTransitionComplete: function onTransitionComplete(status) {\n          if (status === 'exited') {\n            var _toast$config, _toast$config2;\n\n            removeToast(toast.id);\n            ((_toast$config = toast.config) == null ? void 0 : _toast$config.onCloseComplete) && ((_toast$config2 = toast.config) == null ? void 0 : _toast$config2.onCloseComplete());\n          }\n        },\n        initial: {\n          opacity: 0,\n          translateY: transitionConfig[position]\n        },\n        animate: {\n          opacity: 1,\n          transition: {\n            easing: _reactNative.Easing.ease,\n            duration: 250\n          }\n        },\n        exit: {\n          opacity: 0,\n          scale: 0.85,\n          transition: {\n            easing: _reactNative.Easing.ease,\n            duration: 100\n          }\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.SafeAreaView, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, toast.component));\n    }));else return null;\n  })) : null;\n};\n\nvar ToastProvider = function ToastProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = (0, _react.useState)({}),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      toastInfo = _useState2[0],\n      setToastInfo = _useState2[1];\n\n  var _useState3 = (0, _react.useState)({}),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      visibleToasts = _useState4[0],\n      setVisibleToasts = _useState4[1];\n\n  var themeProps = (0, _hooks.usePropsResolution)('Toast', {});\n\n  var _useColorMode = (0, _hooks2.useColorMode)(),\n      colorMode = _useColorMode.colorMode;\n\n  var toastIndex = _react.default.useRef(1);\n\n  var hideAll = function hideAll() {\n    setVisibleToasts({});\n  };\n\n  var hideToast = function hideToast(id) {\n    setVisibleToasts(function (prevVisibleToasts) {\n      return (0, _extends4.default)({}, prevVisibleToasts, (0, _defineProperty2.default)({}, id, false));\n    });\n  };\n\n  var isActive = function isActive(id) {\n    for (var _i = 0, _Object$keys = Object.keys(toastInfo); _i < _Object$keys.length; _i++) {\n      var toastPosition = _Object$keys[_i];\n      var positionArray = toastInfo[toastPosition];\n      return positionArray.findIndex(function (toastData) {\n        return toastData.id === id;\n      }) > -1;\n    }\n\n    return false;\n  };\n\n  var removeToast = function removeToast(id) {\n    setToastInfo(function (prev) {\n      for (var _i2 = 0, _Object$keys2 = Object.keys(prev); _i2 < _Object$keys2.length; _i2++) {\n        var toastPosition = _Object$keys2[_i2];\n        var positionArray = prev[toastPosition];\n        var isToastPresent = positionArray.findIndex(function (toastData) {\n          return toastData.id === id;\n        }) > -1;\n\n        if (isToastPresent) {\n          var newPositionArray = positionArray.filter(function (item) {\n            return item.id !== id;\n          });\n          var temp = {};\n          temp[toastPosition] = newPositionArray;\n          var newToastInfo = (0, _extends4.default)({}, prev, temp);\n          return newToastInfo;\n        }\n      }\n\n      return prev;\n    });\n  };\n\n  var getTextColor = function getTextColor(variant) {\n    switch (variant) {\n      case 'left-accent':\n      case 'top-accent':\n      case 'subtle':\n        return 'coolGray.800';\n\n      case 'solid':\n        return 'warmGray.50';\n\n      case 'outline':\n      case 'outline-light':\n        return colorMode === 'light' ? 'coolGray.800' : 'warmGray.50';\n\n      default:\n        return 'black';\n    }\n  };\n\n  var setToast = function setToast(props) {\n    var _props$placement = props.placement,\n        placement = _props$placement === void 0 ? 'bottom' : _props$placement,\n        title = props.title,\n        render = props.render,\n        status = props.status,\n        _props$id = props.id,\n        id = _props$id === void 0 ? toastIndex.current++ : _props$id,\n        description = props.description,\n        _props$isClosable = props.isClosable,\n        isClosable = _props$isClosable === void 0 ? true : _props$isClosable,\n        _props$duration = props.duration,\n        duration = _props$duration === void 0 ? 5000 : _props$duration,\n        variant = props.variant,\n        accessibilityAnnouncement = props.accessibilityAnnouncement,\n        _props$accessibilityL = props.accessibilityLiveRegion,\n        accessibilityLiveRegion = _props$accessibilityL === void 0 ? 'polite' : _props$accessibilityL,\n        rest = (0, _objectWithoutProperties2.default)(props, [\"placement\", \"title\", \"render\", \"status\", \"id\", \"description\", \"isClosable\", \"duration\", \"variant\", \"accessibilityAnnouncement\", \"accessibilityLiveRegion\"]);\n    var positionToastArray = toastInfo[placement];\n    if (!positionToastArray) positionToastArray = [];\n    var component = null;\n\n    if (render) {\n      component = render({\n        id: id\n      });\n    } else if (!status && !variant) {\n      component = _react.default.createElement(_VStack.default, (0, _extends4.default)({\n        space: title && description ? 1 : 0\n      }, themeProps, rest, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_Box.default, {\n        _text: themeProps._title,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }\n      }, title), description && _react.default.createElement(_Box.default, {\n        _text: themeProps._description,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      }, description));\n    } else if (status || variant) {\n      component = _react.default.createElement(_Alert.Alert, {\n        maxWidth: \"100%\",\n        alignSelf: \"center\",\n        status: status != null ? status : 'info',\n        variant: variant,\n        accessibilityLiveRegion: accessibilityLiveRegion,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_VStack.default, {\n        space: 1,\n        flexShrink: 1,\n        w: \"100%\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_HStack.default, {\n        flexShrink: 1,\n        space: 2,\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_HStack.default, {\n        space: 2,\n        flexShrink: 1,\n        alignItems: \"center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_Alert.Alert.Icon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 17\n        }\n      }), _react.default.createElement(_Text.default, {\n        fontSize: \"md\",\n        fontWeight: \"medium\",\n        color: getTextColor(variant != null ? variant : 'subtle'),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 17\n        }\n      }, title)), isClosable ? _react.default.createElement(_IconButton.default, {\n        variant: \"unstyled\",\n        icon: _react.default.createElement(_Icons.CloseIcon, {\n          size: \"3\",\n          color: getTextColor(variant != null ? variant : 'subtle'),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 21\n          }\n        }),\n        onPress: function onPress() {\n          return hideToast(id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }) : null), _react.default.createElement(_Box.default, {\n        px: \"6\",\n        _text: {\n          color: getTextColor(variant != null ? variant : 'subtle')\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }\n      }, description)));\n    }\n\n    toastInfo[placement] = [].concat((0, _toConsumableArray2.default)(positionToastArray), [{\n      component: component,\n      id: id,\n      config: props\n    }]);\n    setToastInfo((0, _extends4.default)({}, toastInfo));\n    setVisibleToasts((0, _extends4.default)({}, visibleToasts, (0, _defineProperty2.default)({}, id, true)));\n\n    if (duration !== null) {\n      setTimeout(function () {\n        hideToast(id);\n      }, duration);\n    }\n\n    if (accessibilityAnnouncement && _reactNative.Platform.OS === 'ios') {\n      _reactNative.AccessibilityInfo.announceForAccessibility(accessibilityAnnouncement);\n    }\n\n    return id;\n  };\n\n  return _react.default.createElement(ToastContext.Provider, {\n    value: {\n      toastInfo: toastInfo,\n      setToastInfo: setToastInfo,\n      setToast: setToast,\n      removeToast: removeToast,\n      hideAll: hideAll,\n      isActive: isActive,\n      visibleToasts: visibleToasts,\n      setVisibleToasts: setVisibleToasts,\n      hideToast: hideToast\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 5\n    }\n  }, children, _react.default.createElement(CustomToast, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }\n  }));\n};\n\nexports.ToastProvider = ToastProvider;\n\nvar useToast = function useToast() {\n  var _React$useContext2 = _react.default.useContext(ToastContext),\n      setToast = _React$useContext2.setToast,\n      hideAll = _React$useContext2.hideAll,\n      isActive = _React$useContext2.isActive,\n      hideToast = _React$useContext2.hideToast;\n\n  var toast = {\n    show: setToast,\n    close: hideToast,\n    closeAll: hideAll,\n    isActive: isActive\n  };\n  return toast;\n};\n\nexports.useToast = useToast;\n\nvar ToastRef = _react.default.createRef();\n\nexports.ToastRef = ToastRef;\nvar Toast = {\n  show: function show(props) {\n    var _ToastRef$current;\n\n    return (_ToastRef$current = ToastRef.current) == null ? void 0 : _ToastRef$current.show(props);\n  },\n  close: function close(id) {\n    var _ToastRef$current2;\n\n    return (_ToastRef$current2 = ToastRef.current) == null ? void 0 : _ToastRef$current2.close(id);\n  },\n  closeAll: function closeAll() {\n    var _ToastRef$current3;\n\n    return (_ToastRef$current3 = ToastRef.current) == null ? void 0 : _ToastRef$current3.closeAll();\n  },\n  isActive: function isActive(id) {\n    var _ToastRef$current4;\n\n    return (_ToastRef$current4 = ToastRef.current) == null ? void 0 : _ToastRef$current4.isActive(id);\n  }\n};\nexports.Toast = Toast;","map":{"version":3,"sources":["Toast.tsx"],"names":["INSET","POSITIONS","top","left","right","bottom","initialAnimationOffset","transitionConfig","ToastContext","toastInfo","setToastInfo","setToast","removeToast","hideAll","isActive","visibleToasts","setVisibleToasts","hideToast","CustomToast","React","getPositions","Object","toast","status","opacity","translateY","transition","easing","Easing","duration","scale","ToastProvider","children","themeProps","colorMode","toastIndex","toastPosition","positionArray","toastData","prev","isToastPresent","newPositionArray","item","temp","newToastInfo","getTextColor","placement","title","render","id","description","isClosable","variant","accessibilityAnnouncement","accessibilityLiveRegion","rest","props","positionToastArray","component","color","config","setTimeout","Platform","AccessibilityInfo","useToast","show","close","closeAll","ToastRef","Toast"],"mappings":"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","sourcesContent":["import { OverlayContainer } from '@react-native-aria/overlays';\nimport { PresenceTransition } from '../Transitions';\nimport VStack from '../../primitives/Stack/VStack';\nimport { Alert } from '../../composites/Alert';\nimport React, { createContext, MutableRefObject, useState } from 'react';\nimport {\n  AccessibilityInfo,\n  Easing,\n  Platform,\n  SafeAreaView,\n} from 'react-native';\nimport IconButton from '../IconButton';\nimport Box from '../../primitives/Box';\nimport { usePropsResolution } from '../../../hooks';\nimport { CloseIcon } from '../../primitives/Icon/Icons';\nimport type { IToastContext, IToastInfo, IToast, IToastProps } from './types';\nimport Text from '../../primitives/Text';\nimport HStack from '../../primitives/Stack/HStack';\nimport { useColorMode } from '../../../core/color-mode/hooks';\n\nlet INSET = 50;\n\nconst POSITIONS = {\n  'top': {\n    top: INSET,\n    left: 0,\n    right: 0,\n  },\n  'top-right': {\n    top: INSET,\n    right: 0,\n  },\n  'top-left': {\n    top: INSET,\n    left: 0,\n  },\n  'bottom': {\n    bottom: INSET,\n    left: 0,\n    right: 0,\n  },\n  'bottom-left': {\n    bottom: INSET,\n    left: 0,\n  },\n  'bottom-right': {\n    bottom: INSET,\n    right: 0,\n  },\n};\n\nconst initialAnimationOffset = 24;\n\nconst transitionConfig: any = {\n  'bottom': initialAnimationOffset,\n  'top': -initialAnimationOffset,\n  'top-right': -initialAnimationOffset,\n  'top-left': -initialAnimationOffset,\n  'bottom-left': initialAnimationOffset,\n  'bottom-right': initialAnimationOffset,\n};\n\nconst ToastContext = createContext<IToastContext>({\n  toastInfo: {},\n  setToastInfo: () => {},\n  setToast: () => {},\n  removeToast: () => {},\n  hideAll: () => {},\n  isActive: () => false,\n  visibleToasts: {},\n  setVisibleToasts: () => {},\n  hideToast: () => {},\n});\n\nconst CustomToast = () => {\n  const { toastInfo, visibleToasts, removeToast } = React.useContext(\n    ToastContext\n  );\n\n  const getPositions = () => {\n    return Object.keys(toastInfo);\n  };\n\n  return getPositions().length > 0 ? (\n    <OverlayContainer>\n      {getPositions().map((position: string) => {\n        if (Object.keys(POSITIONS).includes(position))\n          return (\n            <VStack\n              margin=\"auto\"\n              key={position}\n              // @ts-ignore\n              {...POSITIONS[position]}\n              position=\"absolute\"\n              space={2}\n              alignItems=\"center\"\n              justifyContent=\"center\"\n            >\n              {\n                // @ts-ignore\n                toastInfo[position].map((toast: IToast) => (\n                  <PresenceTransition\n                    key={toast.id}\n                    visible={visibleToasts[toast.id]}\n                    onTransitionComplete={(status: any) => {\n                      if (status === 'exited') {\n                        removeToast(toast.id);\n                        toast.config?.onCloseComplete &&\n                          toast.config?.onCloseComplete();\n                      }\n                    }}\n                    initial={{\n                      opacity: 0,\n                      translateY: transitionConfig[position],\n                    }}\n                    animate={{\n                      opacity: 1,\n                      transition: { easing: Easing.ease, duration: 250 },\n                    }}\n                    exit={{\n                      opacity: 0,\n                      scale: 0.85,\n                      transition: { easing: Easing.ease, duration: 100 },\n                    }}\n                  >\n                    <SafeAreaView>{toast.component}</SafeAreaView>\n                  </PresenceTransition>\n                ))\n              }\n            </VStack>\n          );\n        else return null;\n      })}\n    </OverlayContainer>\n  ) : null;\n};\n\nexport const ToastProvider = ({ children }: { children: any }) => {\n  const [toastInfo, setToastInfo] = useState<IToastInfo>({});\n  const [visibleToasts, setVisibleToasts] = useState<\n    { [key in string]: boolean }\n  >({});\n  const themeProps = usePropsResolution('Toast', {});\n  const { colorMode } = useColorMode();\n  let toastIndex = React.useRef(1);\n\n  const hideAll = () => {\n    setVisibleToasts({});\n  };\n\n  const hideToast = (id: any) => {\n    setVisibleToasts((prevVisibleToasts) => ({\n      ...prevVisibleToasts,\n      [id]: false,\n    }));\n  };\n\n  const isActive = (id: any) => {\n    for (let toastPosition of Object.keys(toastInfo)) {\n      // @ts-ignore\n      let positionArray: Array<IToast> = toastInfo[toastPosition];\n      return positionArray.findIndex((toastData) => toastData.id === id) > -1;\n    }\n\n    return false;\n  };\n\n  const removeToast = (id: any) => {\n    setToastInfo((prev) => {\n      for (let toastPosition of Object.keys(prev)) {\n        // @ts-ignore\n        let positionArray: Array<IToast> = prev[toastPosition];\n        const isToastPresent =\n          positionArray.findIndex((toastData) => toastData.id === id) > -1;\n\n        if (isToastPresent) {\n          let newPositionArray = positionArray.filter((item) => item.id !== id);\n          let temp: any = {};\n          temp[toastPosition] = newPositionArray;\n\n          let newToastInfo = { ...prev, ...temp };\n          return newToastInfo;\n        }\n      }\n\n      return prev;\n    });\n  };\n\n  const getTextColor = (\n    variant:\n      | 'solid'\n      | 'left-accent'\n      | 'top-accent'\n      | 'outline'\n      | 'subtle'\n      | 'outline-light'\n      | any\n  ): any => {\n    switch (variant) {\n      case 'left-accent':\n      case 'top-accent':\n      case 'subtle':\n        return 'coolGray.800';\n      case 'solid':\n        return 'warmGray.50';\n      case 'outline':\n      case 'outline-light':\n        return colorMode === 'light' ? 'coolGray.800' : 'warmGray.50';\n      default:\n        return 'black';\n    }\n  };\n\n  const setToast = (props: IToastProps): number => {\n    const {\n      placement = 'bottom',\n      title,\n      render,\n      status,\n      id = toastIndex.current++,\n      description,\n      isClosable = true,\n      duration = 5000,\n      variant,\n      accessibilityAnnouncement,\n      accessibilityLiveRegion = 'polite',\n      ...rest\n    } = props;\n\n    let positionToastArray = toastInfo[placement];\n    if (!positionToastArray) positionToastArray = [];\n\n    let component = null;\n\n    if (render) {\n      component = render({ id });\n    } else if (!status && !variant) {\n      component = (\n        <VStack space={title && description ? 1 : 0} {...themeProps} {...rest}>\n          <Box _text={themeProps._title}>{title}</Box>\n          {description && (\n            <Box _text={themeProps._description}>{description}</Box>\n          )}\n        </VStack>\n      );\n    } else if (status || variant) {\n      component = (\n        <Alert\n          maxWidth=\"100%\"\n          alignSelf=\"center\"\n          status={status ?? 'info'}\n          variant={variant as any}\n          accessibilityLiveRegion={accessibilityLiveRegion}\n        >\n          <VStack space={1} flexShrink={1} w=\"100%\">\n            <HStack\n              flexShrink={1}\n              space={2}\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <HStack space={2} flexShrink={1} alignItems=\"center\">\n                <Alert.Icon />\n                <Text\n                  fontSize=\"md\"\n                  fontWeight=\"medium\"\n                  color={getTextColor(variant ?? 'subtle')}\n                >\n                  {title}\n                </Text>\n              </HStack>\n              {isClosable ? (\n                <IconButton\n                  variant=\"unstyled\"\n                  icon={\n                    <CloseIcon\n                      size=\"3\"\n                      color={getTextColor(variant ?? 'subtle')}\n                    />\n                  }\n                  onPress={() => hideToast(id)}\n                />\n              ) : null}\n            </HStack>\n            <Box\n              px=\"6\"\n              // @ts-ignore\n              _text={{\n                color: getTextColor(variant ?? 'subtle'),\n              }}\n            >\n              {description}\n            </Box>\n          </VStack>\n        </Alert>\n      );\n    }\n\n    toastInfo[placement] = [\n      ...positionToastArray,\n      { component, id, config: props },\n    ];\n\n    setToastInfo({ ...toastInfo });\n\n    setVisibleToasts({ ...visibleToasts, [id]: true });\n    if (duration !== null) {\n      setTimeout(function () {\n        hideToast(id);\n      }, duration);\n    }\n\n    // iOS doesn't support accessibilityLiveRegion\n    if (accessibilityAnnouncement && Platform.OS === 'ios') {\n      AccessibilityInfo.announceForAccessibility(accessibilityAnnouncement);\n    }\n\n    return id;\n  };\n\n  return (\n    <ToastContext.Provider\n      value={{\n        toastInfo,\n        setToastInfo,\n        setToast,\n        removeToast,\n        hideAll,\n        isActive,\n        visibleToasts,\n        setVisibleToasts,\n        hideToast,\n      }}\n    >\n      {children}\n      <CustomToast />\n    </ToastContext.Provider>\n  );\n};\n\nexport const useToast = () => {\n  const { setToast, hideAll, isActive, hideToast } = React.useContext(\n    ToastContext\n  );\n\n  const toast = {\n    show: setToast,\n    close: hideToast,\n    closeAll: hideAll,\n    isActive,\n  };\n\n  return toast;\n};\n\nexport type IToastService = ReturnType<typeof useToast>;\n\nexport const ToastRef = React.createRef<IToastService>() as MutableRefObject<IToastService>;\n\nexport const Toast: IToastService = {\n  show: (props: IToastProps) => ToastRef.current?.show(props),\n  close: (id: any) => ToastRef.current?.close(id),\n  closeAll: () => ToastRef.current?.closeAll(),\n  isActive: (id: any) => ToastRef.current?.isActive(id),\n};\n"]},"metadata":{},"sourceType":"script"}